# Что это
Рандомная перемешивалка людей между группами с возможностью прибивания отдельных членов групп к этим группам навсегда.

# Как пользоваться
1. Создать файл с группами. Формат файла читайте в главе "Формат `<filename>`" далее.
2. Запустить:
```
python3 order.py <filename> <size>
```
- `<filename>` - имя такстового файла с группами
- `<size>` - целевой размер одной группы

3. В консоли получите перемешанные группы в том же формате файла, как входной `<filename>`.
4. Чтобы сохранить вывод программы в файл запускайте например так:
```
python3 order.py test.txt 3 > output.txt
```
новые данные окажутся в файле output.txt, который снова можно подавать на вход программы для следующего перемешивания:
```
python3 order.py output.txt 4 > output-2.txt
```
И так далее.

# Формат .txt файла с группами `<filename>`
```
group 0
Иванов Карл Колюневич
=Собака Изергилевич
Мойша Никодимович Оленяев

group 100
Школотронов Люгер Викторович
=Ололоев Пётруша

group 200
Вася Васильев
Иван Алмазов
Вика Изумрудова
```

1. group N - отделяет одну группу от другой. Номер N не важен и не учитывается, но группы считаются по порядку. Программа понимает вышеприведённые группы как 0, 1, 2.
2. Пустые строки допустимы в любом месте и ни на что не влияют.
3. Строка, начинающаяся со знака равно `=` будет прибита к этой по счёту группе. В примере выше "Собака Изергилевич" будет всё время в группе 0.

# Как работает

Весь код написан в виде класса `class Reader`. У класса есть методы:
1. read(filename) - прочитать исходный файл и осознать группы в нём
2. generate(size) - сгенерировать новые группы по size штук людей в каждой максимум
3. print() - распечатать в консоль результат
4. Код начинает работать после комментария # Start - создаётся объект класса Reader и у этого объекта по очереди вызываются разные методы.


В целом всё работает примерно так:

1. По очереди читает строки входного файла по одной строке.
2. Если очередная строка начинается с "group" то начинает новую группу, прибавляя 1 к индексу текущей группы.
3. Если строка содержит в начале = то эта строка добавляется в массив static в список с индексом текущей группы. Массив static содержит списки. Индекс N массива static содержит список строк, которые навсегда должны остаться в группе N. Поэтому он называется static - типа, статичные неперемешиваемые строки. Если в группе N не было строк с = то список для этой группы всё равно будет существовать, но будет пустым.
4. Если строка не содержит в начале ни "group", ни "=", то её закидывают в общую кучу строк, которая называется bank.
5. В методе generate() общая куча bank перемешивается методом random.shuffle(self.bank)
6. Далее пока в self.bank остались строки или пока максимальный индекс списка неперемещаемых строк не достигнут, будут создаваться новые группы по size строк максимум
7. Если в одной группе неперемещаемых строк больше, чем size, то они там и останутся и size не будет ограничивать эту группу



